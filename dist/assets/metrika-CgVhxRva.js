(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function c(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=c(n);fetch(n.href,o)}})();const M=document.querySelectorAll(".popup"),S=document.querySelectorAll(".closeAllModal"),R=document.querySelectorAll(".cosulationOpenModal"),U=document.querySelector(".popup-consultation"),T=document.querySelector(".popup-consultation2"),q=document.querySelector(".popup-alert"),m=document.getElementsByClassName("list__block"),d=document.getElementById("email-block");document.body.addEventListener("keydown",function(e){e.key=="Escape"&&$()});function $(){M.forEach(e=>e.style.display="none"),document.body.style.overflow=""}S.forEach(e=>e.addEventListener("click",function(t){$()}));function A(e,t,c,a){const n=document.querySelector(".modal-title"),o=document.querySelector(".modal-title2"),u=document.getElementById("titleHiddenMail"),r=document.getElementById("titleHiddenMail2"),s=document.querySelector(".btn-mark"),p=document.querySelector(".btn-mark2");a=="present"&&(T.style.display="block",o.textContent=`${e}`,p.textContent=t,r.value=c),a=="obg"&&(U.style.display="block",n.textContent=`${e}`,s.textContent=t,u.value=c)}R.forEach(e=>e.addEventListener("click",function(t){const c=t.target.dataset.type,a=t.target.dataset.title||"и получите консультацию",n=t.target.dataset.sub||"Получить консультацию",o=t.target.dataset.btn||"Получить консультацию";A(a,o,n,c)}));document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("consultForm");w(e,"route","Разместить объект")});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("consultForm2");w(e,"alert","Получить презентацию")});function i(e){e=e.replace(/[$$$$]/g,"\\$&");let c=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(window.location.href);return c?c[2]?decodeURIComponent(c[2].replace(/\+/g," ")):"":null}let g=i("utm_source"),y=i("utm_medium"),_=i("utm_campaign"),f=i("utm_term"),h=i("utm_content"),k=i("utm_campaign_name"),b=i("utm_placement"),x=i("utm_device"),E=i("utm_region_name"),C=i("utm_position"),I=i("utm_position_type"),v=i("utm_source_type"),L=i("yclid");g!==null&&g!==""&&(document.cookie=`utm_source=${encodeURIComponent(g)}; path=/; max-age=2592000`);y!==null&&y!==""&&(document.cookie=`utm_medium=${encodeURIComponent(y)}; path=/; max-age=2592000`);_!==null&&_!==""&&(document.cookie=`utm_campaign=${encodeURIComponent(_)}; path=/; max-age=2592000`);f!==null&&f!==""&&(document.cookie=`utm_term=${encodeURIComponent(f)}; path=/; max-age=2592000`);h!==null&&h!==""&&(document.cookie=`utm_content=${encodeURIComponent(h)}; path=/; max-age=2592000`);k!==null&&k!==""&&(document.cookie=`utm_campaign_name=${encodeURIComponent(k)}; path=/; max-age=2592000`);b!==null&&b!==""&&(document.cookie=`utm_placement=${encodeURIComponent(b)}; path=/; max-age=2592000`);x!==null&&x!==""&&(document.cookie=`utm_device=${encodeURIComponent(x)}; path=/; max-age=2592000`);E!==null&&E!==""&&(document.cookie=`utm_region_name=${encodeURIComponent(E)}; path=/; max-age=2592000`);C!==null&&C!==""&&(document.cookie=`utm_position=${encodeURIComponent(C)}; path=/; max-age=2592000`);I!==null&&I!==""&&(document.cookie=`utm_position_type=${encodeURIComponent(I)}; path=/; max-age=2592000`);v!==null&&v!==""&&(document.cookie=`utm_source_type=${encodeURIComponent(v)}; path=/; max-age=2592000`);L!==null&&L!==""&&(document.cookie=`yclid=${encodeURIComponent(L)}; path=/; max-age=2592000`);function l(e){let t=e+"=",a=decodeURIComponent(document.cookie).split(";");for(let n=0;n<a.length;n++){let o=a[n];for(;o.charAt(0)==" ";)o=o.substring(1);if(o.indexOf(t)==0)return o.substring(t.length,o.length)}return""}function B(e){e.append("utm_source",l("utm_source")||""),e.append("utm_medium",l("utm_medium")||""),e.append("utm_campaign",l("utm_campaign")||""),e.append("utm_campaign_name",l("utm_campaign_name")||""),e.append("utm_content",l("utm_content")||""),e.append("utm_term",l("utm_term")||""),e.append("utm_placement",l("utm_placement")||""),e.append("utm_device",l("utm_device")||""),e.append("utm_region_name",l("utm_region_name")||""),e.append("utm_position",l("utm_position")||""),e.append("utm_position_type",l("utm_position_type")||""),e.append("utm_source_type",l("utm_source_type")||""),e.append("yclid",l("yclid")||""),e.append("subject","Письмо с сайта proinvestresort.ru")}function w(e,t,c){e.addEventListener("submit",async function(a){a.preventDefault();const n=a.srcElement.querySelector("#send-btn");n.disabled=!0,n.textContent="Отправка...";try{const o=new FormData(e);let u={};B(o);const r=await fetch("https://proinvestresort.ru/sendforms.php",{method:"POST",body:o});if(o.forEach((s,p)=>u[p]=s),localStorage.setItem("name",u.name),!r.ok)throw new Error(`Network response was not ok: ${r.status}`);if($(),n.disabled=!1,n.textContent=c,t==="route")ym(100282784,"reachGoal","goalLeadsClient"),window.location.href="/thanks.html";else{ym(100282784,"reachGoal","goalLeads");const s=document.getElementById("output-main");s.innerHTML=`${localStorage.getItem("name")}`,q.style.display="block"}}catch(o){console.error("Произошла ошибка при отправке формы.",o),alert("Произошла ошибка при отправке формы.",o)}})}d&&(d.style.display="none");let O=function(e){e.preventDefault();for(let t=0;t<m.length;t++)m[t].classList.remove("block-active");e.currentTarget.classList.add("block-active"),e.currentTarget.classList.contains("E-mail")&&(d.style.display="flex"),e.currentTarget.classList.contains("E-mail")||(d.style.display="none")};for(let e=0;e<m.length;e++)m[e].addEventListener("click",O,!1);const z="Таиланд",J="Турция",Q="Индонезия",V="Грузия",W="ОАЭ",X="Таиланда",Z="Турции",D="Индонезии",ee="Грузии",F=new Date().getFullYear(),N="8 (800) 101-51-49",H="tel:88001015149";let P=document.getElementById("year");P.innerHTML=F;const j=`<a href="${H}">${N}</a>`,G=document.querySelectorAll(".teladd");G.forEach(e=>{e.insertAdjacentHTML("beforeend",j)});const K=document.querySelectorAll("input[name=tel]"),Y=function(e){let t=e.value.replace(/\D/g,"").match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);const c=t[1]?t[1]==9?"+7 (9":"+7":t[1],a=t[2]?" ("+(t[2][0]==8&&t[2][1]==9?"9":t[2]):t[2],n=t[3]?") "+t[3]:t[3],o=t[4]?"-"+t[4]:t[4],u=t[5]?"-"+t[5]:t[5];e.value=c+a+n+o+u};K.forEach((e,t)=>{e.addEventListener("input",c=>Y(c.target))});(function(e,t,c,a,n,o,u){e[n]=e[n]||function(){(e[n].a=e[n].a||[]).push(arguments)},e[n].l=1*new Date;for(var r=0;r<document.scripts.length;r++)if(document.scripts[r].src===a)return;o=t.createElement(c),u=t.getElementsByTagName(c)[0],o.async=1,o.src=a,u.parentNode.insertBefore(o,u)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym");ym(100282784,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0});export{z as a,Z as b,J as c,V as d,Q as e,A as f,ee as g,D as i,W as o,X as t};
