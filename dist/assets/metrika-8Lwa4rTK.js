(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function c(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=c(n);fetch(n.href,o)}})();const w=document.querySelectorAll(".popup"),M=document.querySelectorAll(".closeAllModal"),S=document.querySelectorAll(".cosulationOpenModal"),R=document.querySelector(".popup-consultation"),T=document.querySelector(".popup-consultation2"),q=document.querySelector(".popup-alert"),m=document.getElementsByClassName("list__block"),d=document.getElementById("email-block");document.body.addEventListener("keydown",function(e){e.key=="Escape"&&L()});function L(){w.forEach(e=>e.style.display="none"),document.body.style.overflow=""}M.forEach(e=>e.addEventListener("click",function(t){L()}));function A(e,t,c,a){const n=document.querySelector(".modal-title"),o=document.querySelector(".modal-title2"),u=document.getElementById("titleHiddenMail"),s=document.getElementById("titleHiddenMail2"),r=document.querySelector(".btn-mark"),p=document.querySelector(".btn-mark2");a=="present"&&(T.style.display="block",o.textContent=`${e}`,p.textContent=t,s.value=c),a=="obg"&&(R.style.display="block",n.textContent=`${e}`,r.textContent=t,u.value=c)}S.forEach(e=>e.addEventListener("click",function(t){const c=t.target.dataset.type,a=t.target.dataset.title||"и получите консультацию",n=t.target.dataset.sub||"Получить консультацию",o=t.target.dataset.btn||"Получить консультацию";A(a,o,n,c)}));document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("consultForm");U(e,"route","Разместить объект")});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("consultForm2");U(e,"alert","Получить презентацию")});function i(e){e=e.replace(/[$$$$]/g,"\\$&");let c=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(window.location.href);return c?c[2]?decodeURIComponent(c[2].replace(/\+/g," ")):"":null}let g=i("utm_source"),y=i("utm_medium"),_=i("utm_campaign"),f=i("utm_term"),h=i("utm_content"),k=i("utm_campaign_name"),b=i("utm_placement"),x=i("utm_device"),E=i("utm_region_name"),C=i("utm_position"),I=i("utm_position_type"),$=i("utm_source_type"),v=i("yclid");g!==null&&g!==""&&(document.cookie=`utm_source=${encodeURIComponent(g)}; path=/; max-age=2592000`);y!==null&&y!==""&&(document.cookie=`utm_medium=${encodeURIComponent(y)}; path=/; max-age=2592000`);_!==null&&_!==""&&(document.cookie=`utm_campaign=${encodeURIComponent(_)}; path=/; max-age=2592000`);f!==null&&f!==""&&(document.cookie=`utm_term=${encodeURIComponent(f)}; path=/; max-age=2592000`);h!==null&&h!==""&&(document.cookie=`utm_content=${encodeURIComponent(h)}; path=/; max-age=2592000`);k!==null&&k!==""&&(document.cookie=`utm_campaign_name=${encodeURIComponent(k)}; path=/; max-age=2592000`);b!==null&&b!==""&&(document.cookie=`utm_placement=${encodeURIComponent(b)}; path=/; max-age=2592000`);x!==null&&x!==""&&(document.cookie=`utm_device=${encodeURIComponent(x)}; path=/; max-age=2592000`);E!==null&&E!==""&&(document.cookie=`utm_region_name=${encodeURIComponent(E)}; path=/; max-age=2592000`);C!==null&&C!==""&&(document.cookie=`utm_position=${encodeURIComponent(C)}; path=/; max-age=2592000`);I!==null&&I!==""&&(document.cookie=`utm_position_type=${encodeURIComponent(I)}; path=/; max-age=2592000`);$!==null&&$!==""&&(document.cookie=`utm_source_type=${encodeURIComponent($)}; path=/; max-age=2592000`);v!==null&&v!==""&&(document.cookie=`yclid=${encodeURIComponent(v)}; path=/; max-age=2592000`);function l(e){let t=e+"=",a=decodeURIComponent(document.cookie).split(";");for(let n=0;n<a.length;n++){let o=a[n];for(;o.charAt(0)==" ";)o=o.substring(1);if(o.indexOf(t)==0)return o.substring(t.length,o.length)}return""}function B(e){e.append("utm_source",l("utm_source")||""),e.append("utm_medium",l("utm_medium")||""),e.append("utm_campaign",l("utm_campaign")||""),e.append("utm_campaign_name",l("utm_campaign_name")||""),e.append("utm_content",l("utm_content")||""),e.append("utm_term",l("utm_term")||""),e.append("utm_placement",l("utm_placement")||""),e.append("utm_device",l("utm_device")||""),e.append("utm_region_name",l("utm_region_name")||""),e.append("utm_position",l("utm_position")||""),e.append("utm_position_type",l("utm_position_type")||""),e.append("utm_source_type",l("utm_source_type")||""),e.append("yclid",l("yclid")||""),e.append("subject","Письмо с сайта proinvestresort.ru")}function U(e,t,c){e.addEventListener("submit",async function(a){a.preventDefault();const n=a.srcElement.querySelector("#send-btn");n.disabled=!0,n.textContent="Отправка...";try{const o=new FormData(e);let u={};B(o);const s=await fetch("https://proinvestresort.ru/sendforms.php",{method:"POST",body:o});if(o.forEach((r,p)=>u[p]=r),localStorage.setItem("name",u.name),!s.ok)throw new Error(`Network response was not ok: ${s.status}`);if(L(),n.disabled=!1,n.textContent=c,t==="route")ym(100282784,"reachGoal","goalLeadsClient"),window.location.href="/thanks.html";else{ym(100282784,"reachGoal","goalLeads");const r=document.getElementById("output-main");r.innerHTML=`${localStorage.getItem("name")}`,q.style.display="block"}}catch(o){console.error("Произошла ошибка при отправке формы.",o),alert("Произошла ошибка при отправке формы.",o)}})}d&&(d.style.display="none");let O=function(e){e.preventDefault();for(let t=0;t<m.length;t++)m[t].classList.remove("block-active");e.currentTarget.classList.add("block-active"),e.currentTarget.classList.contains("E-mail")&&(d.style.display="flex"),e.currentTarget.classList.contains("E-mail")||(d.style.display="none")};for(let e=0;e<m.length;e++)m[e].addEventListener("click",O,!1);const X="Таиланд",Z="Турция",D="Индонезия",ee="Грузия",te="ОАЭ",ne="Таиланда",oe="Турции",ce="Индонезии",ae="Грузии",F="tailand",N="turciya",H="indoneziya",P="gruziya",j="oae",ue=["",`${F}`,`${N}`,`${P}`,`${j}`,`${H}`],z=new Date().getFullYear(),G="8 (800) 101-51-49",K="tel:88001015149";let Y=document.getElementById("year");Y.innerHTML=z;const J=`<a href="${K}">${G}</a>`,Q=document.querySelectorAll(".teladd");Q.forEach(e=>{e.insertAdjacentHTML("beforeend",J)});const V=document.querySelectorAll("input[name=tel]"),W=function(e){let t=e.value.replace(/\D/g,"").match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/);const c=t[1]?t[1]==9?"+7 (9":"+7":t[1],a=t[2]?" ("+(t[2][0]==8&&t[2][1]==9?"9":t[2]):t[2],n=t[3]?") "+t[3]:t[3],o=t[4]?"-"+t[4]:t[4],u=t[5]?"-"+t[5]:t[5];e.value=c+a+n+o+u};V.forEach((e,t)=>{e.addEventListener("input",c=>W(c.target))});(function(e,t,c,a,n,o,u){e[n]=e[n]||function(){(e[n].a=e[n].a||[]).push(arguments)},e[n].l=1*new Date;for(var s=0;s<document.scripts.length;s++)if(document.scripts[s].src===a)return;o=t.createElement(c),u=t.getElementsByTagName(c)[0],o.async=1,o.src=a,u.parentNode.insertBefore(o,u)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym");ym(100282784,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0});export{X as a,oe as b,Z as c,ee as d,D as e,A as f,ae as g,ce as i,te as o,ne as t,ue as v};
